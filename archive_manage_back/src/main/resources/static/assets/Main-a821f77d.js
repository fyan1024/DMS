import{_ as F,p as A,E as C,r as u,o,e as L,a as t,w as e,b as a,d as j,c as r,f as p,F as S,g as V,t as R,h as Y,i as H}from"./index-cd0a462c.js";const M={data(){return{headers:{Authorization:"Bearer "+window.sessionStorage.getItem("token")},tableData:[],leixingList:[{id:0,mingcheng:"请选择类目"}],laiyuanList:[{id:0,mingcheng:"请选择类目"}],zhuangtaiList:[{id:0,mingcheng:"立卷"}],commonForm:{id:0,archive_id:0,caozuo_id:0,beizhu:""},gdForm:{id:0,danganjia:""},form:{id:0,biaohao:"",mingcheng:"",lujing:"",leixing_id:0,laiyuan_id:0,miji_id:0,zhuangtai:0},status:!1,gdStatus:!1,commonStatus:!1,currentPage:1,pageSize:10,total:0}},components:{Plus:A},mounted(){this.selList(),this.selLeixingList(),this.selLaiyuanList()},methods:{updSp1(){this.$http({method:"put",url:"/dangan/updSp1",data:this.commonForm}).then(n=>{n.state==1&&(C({message:"审批成功",type:"success"}),this.selList(),this.commonStatus=!1)})},updSp2(){this.$http({method:"put",url:"/dangan/updSp2",data:this.commonForm}).then(n=>{n.state==1&&(C({message:"审批成功",type:"success"}),this.selList(),this.commonStatus=!1)})},updJj(){this.$http({method:"put",url:"/dangan/updJj",data:this.commonForm}).then(n=>{n.state==1&&(C({message:"交接成功",type:"success"}),this.selList(),this.commonStatus=!1)})},updJd(){this.$http({method:"put",url:"/dangan/updJd",data:this.commonForm}).then(n=>{n.state==1&&(C({message:"鉴定成功",type:"success"}),this.selList(),this.commonStatus=!1)})},updGd(){this.$http({method:"put",url:"/dangan/updGd",data:this.commonForm}).then(n=>{n.state==1&&(C({message:"操作记录成功",type:"success"}),this.selList(),this.commonStatus=!1,this.gdForm.id=this.commonForm.archive_id,this.gdStatus=!0)})},updGd1(){this.$http({method:"put",url:"/dangan/updGd1",data:{id:this.gdForm.id,zhuangtai:5,danganjia:this.gdForm.danganjia}}).then(n=>{n.state==1&&(C({message:"归档成功",type:"success"}),this.selList(),this.gdStatus=!1)})},updBg(){this.$http({method:"put",url:"/dangan/updBg",data:this.commonForm}).then(n=>{n.state==1&&(C({message:"保管成功",type:"success"}),this.selList(),this.commonStatus=!1)})},updJy(){this.$http({method:"put",url:"/dangan/updJy",data:this.commonForm}).then(n=>{n.state==1&&(C({message:"申请借阅成功",type:"success"}),this.selList(),this.commonStatus=!1)})},updGh(){this.$http({method:"put",url:"/dangan/updGh",data:this.commonForm}).then(n=>{n.state==1&&(C({message:"归还成功",type:"success"}),this.selList(),this.commonStatus=!1)})},updDqjd(){this.$http({method:"put",url:"/dangan/updDqjd",data:this.commonForm}).then(n=>{n.state==1&&(C({message:"定期鉴定成功",type:"success"}),this.selList(),this.commonStatus=!1)})},updXh1(){this.$http({method:"put",url:"/dangan/updXh1",data:this.commonForm}).then(n=>{n.state==1&&(C({message:"审批成功",type:"success"}),this.selList(),this.commonStatus=!1)})},updXh2(){this.$http({method:"put",url:"/dangan/updXh2",data:this.commonForm}).then(n=>{n.state==1&&(C({message:"审批成功",type:"success"}),this.selList(),this.commonStatus=!1)})},updXh(){this.$http({method:"put",url:"/dangan/updXh",data:this.commonForm}).then(n=>{n.state==1&&(C({message:"销毁成功",type:"success"}),this.selList(),this.commonStatus=!1)})},selList(){this.$http({method:"get",url:"/dangan/selDanganPage",params:{page:this.currentPage,limit:this.pageSize}}).then(n=>{this.tableData=n.data,this.total=n.count})},selLeixingList(){this.$http({method:"get",url:"/dalx/selDalxPage",params:{page:1,limit:1e8}}).then(n=>{this.leixingList=[{id:0,mingcheng:"请选择档案类型"}];for(let i=0;i<n.data.length;i++)this.leixingList.push(n.data[i])})},selLaiyuanList(){this.$http({method:"get",url:"/daly/selDalyPage",params:{page:1,limit:1e7}}).then(n=>{this.laiyuanList=[{id:0,mingcheng:"请选择档案来源"}];for(let i=0;i<n.data.length;i++)this.laiyuanList.push(n.data[i])})},handleSizeChange(n){this.pageSize=n,this.selList()},handleCurrentChange(n){this.currentPage=n,this.selList()},handlePrevClick(){this.selList()},handleNextClick(){this.selList()},handleAvatarSuccess(n){this.form.lujing=n.data.url},handleAvatarRemove(n){this.form.lujing=""},add(){this.form=this.$options.data().form,this.status=!0},update(n){this.$http({url:"/dangan/selDanganInfo",method:"get",params:{id:n}}).then(i=>{this.form=i.data,this.status=!0})},delet(n){this.$http({url:"/dangan/delDangan",method:"delete",data:this.commonForm}).then(i=>{i.state==1&&(C({message:"删除成功",type:"success"}),this.selList(),this.commonStatus=!1)})},sub(){this.form.id==0?this.$refs.formRef.validate(async n=>{n&&this.$http({url:"/dangan/insDangan",method:"post",data:this.form}).then(i=>{i.state==1&&(C({message:"立卷成功",type:"success"}),this.selList(),this.status=!1)})}):this.$refs.formRef.validate(async n=>{n&&this.$http({method:"put",url:"/dangan/updDangan",data:this.form}).then(i=>{i.state==1&&(C({message:"修改成功",type:"success"}),this.selList(),this.status=!1)})})},reset(){this.$refs.formRef.resetFields()}}},T={style:{position:"fixed",top:"150px",left:"230px"}};function K(n,i,w,q,l,s){const d=u("el-button"),h=u("el-table-column"),z=u("el-link"),y=u("el-text"),f=u("el-table"),_=u("el-pagination"),x=u("el-input"),k=u("el-form-item"),b=u("el-upload"),v=u("el-option"),g=u("el-select"),c=u("el-form"),N=u("el-dialog");return o(),L(S,null,[t(d,{type:"primary",onClick:s.add,style:{position:"fixed",left:"230px",top:"110px"}},{default:e(()=>[a("立卷")]),_:1},8,["onClick"]),j("div",T,[t(f,{data:l.tableData,style:{width:"100%"}},{default:e(()=>[t(h,{prop:"id",label:"ID",width:"60"}),t(h,{prop:"bianhao",label:"编号",width:"100"}),t(h,{prop:"mingcheng",label:"名称",width:"100"}),t(h,{prop:"lujing",label:"电子档案",width:"150"},{default:e(m=>[t(z,{type:"primary",href:"http://localhost:8080"+m.row.lujing},{default:e(()=>[a("查看电子档案")]),_:2},1032,["href"])]),_:1}),t(h,{prop:"lujing",label:"电子档案磁盘位置",width:"200"}),t(h,{prop:"leixing",label:"类型",width:"100"}),t(h,{prop:"laiyuan",label:"来源",width:"100"}),t(h,{prop:"miji_id",label:"保密级别",width:"100"}),t(h,{prop:"danganjia",label:"档案位置",width:"100"}),t(h,{prop:"zhuangtai",label:"状态",width:"100"},{default:e(m=>[m.row.zhuangtai==0?(o(),r(y,{key:0,class:"mx-1",type:"danger"},{default:e(()=>[a("立卷待审批")]),_:1})):p("",!0),m.row.zhuangtai==1?(o(),r(y,{key:1,class:"mx-1",type:"primary"},{default:e(()=>[a("审批通过")]),_:1})):p("",!0),m.row.zhuangtai==2?(o(),r(y,{key:2,class:"mx-1",type:"primary"},{default:e(()=>[a("审批不通过")]),_:1})):p("",!0),m.row.zhuangtai==3?(o(),r(y,{key:3,class:"mx-1",type:"primary"},{default:e(()=>[a("交接成功")]),_:1})):p("",!0),m.row.zhuangtai==4?(o(),r(y,{key:4,class:"mx-1",type:"primary"},{default:e(()=>[a("鉴定成功")]),_:1})):p("",!0),m.row.zhuangtai==5?(o(),r(y,{key:5,class:"mx-1",type:"primary"},{default:e(()=>[a("归档成功")]),_:1})):p("",!0),m.row.zhuangtai==6?(o(),r(y,{key:6,class:"mx-1",type:"primary"},{default:e(()=>[a("保管成功")]),_:1})):p("",!0),m.row.zhuangtai==7?(o(),r(y,{key:7,class:"mx-1",type:"primary"},{default:e(()=>[a("借阅中")]),_:1})):p("",!0),m.row.zhuangtai==8?(o(),r(y,{key:8,class:"mx-1",type:"primary"},{default:e(()=>[a("定期鉴定成功")]),_:1})):p("",!0),m.row.zhuangtai==9?(o(),r(y,{key:9,class:"mx-1",type:"primary"},{default:e(()=>[a("销毁申请成功")]),_:1})):p("",!0),m.row.zhuangtai==10?(o(),r(y,{key:10,class:"mx-1",type:"primary"},{default:e(()=>[a("销毁申请失败")]),_:1})):p("",!0),m.row.zhuangtai==11?(o(),r(y,{key:11,class:"mx-1",type:"primary"},{default:e(()=>[a("销毁成功")]),_:1})):p("",!0)]),_:1}),t(h,{label:"操作",width:"270"},{default:e(m=>[m.row.zhuangtai==0?(o(),r(d,{key:0,type:"warning",onClick:P=>{l.commonForm.archive_id=m.row.id,l.commonForm.caozuo_id=1,l.commonStatus=!0}},{default:e(()=>[a("审批通过")]),_:2},1032,["onClick"])):p("",!0),m.row.zhuangtai==0?(o(),r(d,{key:1,type:"warning",onClick:P=>{l.commonForm.archive_id=m.row.id,l.commonForm.caozuo_id=2,l.commonStatus=!0}},{default:e(()=>[a("审批不通过")]),_:2},1032,["onClick"])):p("",!0),m.row.zhuangtai==1?(o(),r(d,{key:2,type:"warning",onClick:P=>{l.commonForm.archive_id=m.row.id,l.commonForm.caozuo_id=3,l.commonStatus=!0}},{default:e(()=>[a("交接")]),_:2},1032,["onClick"])):p("",!0),m.row.zhuangtai==3?(o(),r(d,{key:3,type:"warning",onClick:P=>{l.commonForm.archive_id=m.row.id,l.commonForm.caozuo_id=4,l.commonStatus=!0}},{default:e(()=>[a("鉴定")]),_:2},1032,["onClick"])):p("",!0),m.row.zhuangtai==4?(o(),r(d,{key:4,type:"warning",onClick:P=>{l.commonForm.archive_id=m.row.id,l.commonForm.caozuo_id=5,l.commonStatus=!0}},{default:e(()=>[a("归档")]),_:2},1032,["onClick"])):p("",!0),m.row.zhuangtai==5?(o(),r(d,{key:5,type:"warning",onClick:P=>{l.commonForm.archive_id=m.row.id,l.commonForm.caozuo_id=6,l.commonStatus=!0}},{default:e(()=>[a("保管")]),_:2},1032,["onClick"])):p("",!0),m.row.zhuangtai==6?(o(),r(d,{key:6,type:"warning",onClick:P=>{l.commonForm.archive_id=m.row.id,l.commonForm.caozuo_id=14,l.commonStatus=!0}},{default:e(()=>[a("申请借阅")]),_:2},1032,["onClick"])):p("",!0),m.row.zhuangtai==7?(o(),r(d,{key:7,type:"warning",onClick:P=>{l.commonForm.archive_id=m.row.id,l.commonForm.caozuo_id=15,l.commonStatus=!0}},{default:e(()=>[a("归还借阅")]),_:2},1032,["onClick"])):p("",!0),m.row.zhuangtai==6?(o(),r(d,{key:8,type:"warning",onClick:P=>{l.commonForm.archive_id=m.row.id,l.commonForm.caozuo_id=8,l.commonStatus=!0}},{default:e(()=>[a("定期鉴定")]),_:2},1032,["onClick"])):p("",!0),m.row.zhuangtai==8?(o(),r(d,{key:9,type:"warning",onClick:P=>{l.commonForm.archive_id=m.row.id,l.commonForm.caozuo_id=9,l.commonStatus=!0}},{default:e(()=>[a("通过销毁申请")]),_:2},1032,["onClick"])):p("",!0),m.row.zhuangtai==8?(o(),r(d,{key:10,type:"warning",onClick:P=>{l.commonForm.archive_id=m.row.id,l.commonForm.caozuo_id=10,l.commonStatus=!0}},{default:e(()=>[a("拒绝销毁申请")]),_:2},1032,["onClick"])):p("",!0),m.row.zhuangtai==9?(o(),r(d,{key:11,type:"warning",onClick:P=>{l.commonForm.archive_id=m.row.id,l.commonForm.caozuo_id=11,l.commonStatus=!0}},{default:e(()=>[a("销毁")]),_:2},1032,["onClick"])):p("",!0),m.row.zhuangtai==11?(o(),r(d,{key:12,type:"danger",onClick:P=>{l.commonForm.archive_id=m.row.id,l.commonForm.caozuo_id=12,l.commonStatus=!0}},{default:e(()=>[a("删除")]),_:2},1032,["onClick"])):p("",!0)]),_:1})]),_:1},8,["data"]),t(_,{"current-page":l.currentPage,"page-size":l.pageSize,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:l.total,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange,onPrevClick:s.handlePrevClick,onNextClick:s.handleNextClick},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange","onPrevClick","onNextClick"])]),t(N,{"model-value":l.status,onClose:i[6]||(i[6]=m=>l.status=!1)},{default:e(()=>[t(c,{model:l.form,"label-width":"120px",ref:"formRef"},{default:e(()=>[t(k,{label:"编号",required:"",prop:"bianhao"},{default:e(()=>[t(x,{modelValue:l.form.bianhao,"onUpdate:modelValue":i[0]||(i[0]=m=>l.form.bianhao=m)},null,8,["modelValue"])]),_:1}),t(k,{label:"名称",required:"",prop:"mingcheng"},{default:e(()=>[t(x,{modelValue:l.form.mingcheng,"onUpdate:modelValue":i[1]||(i[1]=m=>l.form.mingcheng=m)},null,8,["modelValue"])]),_:1}),t(k,{label:"路径",required:"",prop:"lujing"},{default:e(()=>[t(b,{action:"http://localhost:8080/upload/file",headers:l.headers,"on-success":s.handleAvatarSuccess,"on-remove":s.handleAvatarRemove,limit:1},{default:e(()=>[t(d,{type:"primary"},{default:e(()=>[a("上传档案")]),_:1})]),_:1},8,["headers","on-success","on-remove"])]),_:1}),t(k,{label:"类型",required:"",prop:"leixing_id"},{default:e(()=>[t(g,{modelValue:l.form.leixing_id,"onUpdate:modelValue":i[2]||(i[2]=m=>l.form.leixing_id=m),class:"m-2",placeholder:"Select"},{default:e(()=>[(o(!0),L(S,null,V(l.leixingList,m=>(o(),r(v,{key:m.id,label:m.mingcheng,value:m.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(k,{label:"来源",required:"",prop:"laiyuan_id"},{default:e(()=>[t(g,{modelValue:l.form.laiyuan_id,"onUpdate:modelValue":i[3]||(i[3]=m=>l.form.laiyuan_id=m),class:"m-2",placeholder:"Select"},{default:e(()=>[(o(!0),L(S,null,V(l.laiyuanList,m=>(o(),r(v,{key:m.id,label:m.mingcheng,value:m.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(k,{label:"加密等级",required:"",prop:"miji_id"},{default:e(()=>[t(x,{type:"number",modelValue:l.form.miji_id,"onUpdate:modelValue":i[4]||(i[4]=m=>l.form.miji_id=m)},null,8,["modelValue"])]),_:1}),t(k,{label:"状态",required:"",prop:"zhuangtai"},{default:e(()=>[t(g,{modelValue:l.form.zhuangtai,"onUpdate:modelValue":i[5]||(i[5]=m=>l.form.zhuangtai=m),class:"m-2",placeholder:"Select"},{default:e(()=>[(o(!0),L(S,null,V(l.zhuangtaiList,m=>(o(),r(v,{key:m.id,label:m.mingcheng,value:m.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(k,null,{default:e(()=>[t(d,{type:"primary",onClick:s.sub},{default:e(()=>[a("提交")]),_:1},8,["onClick"]),t(d,{onClick:s.reset},{default:e(()=>[a("重置")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"]),t(N,{"model-value":l.gdStatus,onClose:i[8]||(i[8]=m=>l.gdStatus=!1)},{default:e(()=>[t(c,{model:l.gdForm,"label-width":"120px",ref:"gdFormRef"},{default:e(()=>[t(k,{label:"档案架",required:"",prop:"danganjia"},{default:e(()=>[t(x,{modelValue:l.gdForm.danganjia,"onUpdate:modelValue":i[7]||(i[7]=m=>l.gdForm.danganjia=m)},null,8,["modelValue"])]),_:1}),t(k,null,{default:e(()=>[t(d,{type:"primary",onClick:s.updGd1},{default:e(()=>[a("提交")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"]),t(N,{"model-value":l.commonStatus,onClose:i[10]||(i[10]=m=>l.commonStatus=!1)},{default:e(()=>[t(c,{model:l.commonForm,"label-width":"120px",ref:"commonFormRef"},{default:e(()=>[t(k,{label:"备注",required:"",prop:"beizhu"},{default:e(()=>[t(x,{modelValue:l.commonForm.beizhu,"onUpdate:modelValue":i[9]||(i[9]=m=>l.commonForm.beizhu=m)},null,8,["modelValue"])]),_:1}),t(k,null,{default:e(()=>[l.commonForm.caozuo_id==1?(o(),r(d,{key:0,type:"primary",onClick:s.updSp1},{default:e(()=>[a("审批通过")]),_:1},8,["onClick"])):p("",!0),l.commonForm.caozuo_id==2?(o(),r(d,{key:1,type:"primary",onClick:s.updSp2},{default:e(()=>[a("审批不通过")]),_:1},8,["onClick"])):p("",!0),l.commonForm.caozuo_id==3?(o(),r(d,{key:2,type:"primary",onClick:s.updJj},{default:e(()=>[a("交接")]),_:1},8,["onClick"])):p("",!0),l.commonForm.caozuo_id==4?(o(),r(d,{key:3,type:"primary",onClick:s.updJd},{default:e(()=>[a("鉴定")]),_:1},8,["onClick"])):p("",!0),l.commonForm.caozuo_id==5?(o(),r(d,{key:4,type:"primary",onClick:s.updGd},{default:e(()=>[a("归档")]),_:1},8,["onClick"])):p("",!0),l.commonForm.caozuo_id==6?(o(),r(d,{key:5,type:"primary",onClick:s.updBg},{default:e(()=>[a("保管")]),_:1},8,["onClick"])):p("",!0),l.commonForm.caozuo_id==14?(o(),r(d,{key:6,type:"primary",onClick:s.updJy},{default:e(()=>[a("申请借阅")]),_:1},8,["onClick"])):p("",!0),l.commonForm.caozuo_id==15?(o(),r(d,{key:7,type:"primary",onClick:s.updGh},{default:e(()=>[a("归还借阅")]),_:1},8,["onClick"])):p("",!0),l.commonForm.caozuo_id==8?(o(),r(d,{key:8,type:"primary",onClick:s.updDqjd},{default:e(()=>[a("定期鉴定")]),_:1},8,["onClick"])):p("",!0),l.commonForm.caozuo_id==9?(o(),r(d,{key:9,type:"primary",onClick:s.updXh1},{default:e(()=>[a("通过销毁申请")]),_:1},8,["onClick"])):p("",!0),l.commonForm.caozuo_id==10?(o(),r(d,{key:10,type:"primary",onClick:s.updXh2},{default:e(()=>[a("拒绝销毁申请")]),_:1},8,["onClick"])):p("",!0),l.commonForm.caozuo_id==11?(o(),r(d,{key:11,type:"primary",onClick:s.updXh},{default:e(()=>[a("销毁")]),_:1},8,["onClick"])):p("",!0),l.commonForm.caozuo_id==12?(o(),r(d,{key:12,type:"primary",onClick:s.delet},{default:e(()=>[a("删除")]),_:1},8,["onClick"])):p("",!0)]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])],64)}const O=F(M,[["render",K],["__scopeId","data-v-1026047f"]]),W={data(){return{tableData:[],form:{id:0,archive_id:0,user_id:0,time:"",state:0},status:!1,currentPage:1,pageSize:10,total:0}},components:{},mounted(){this.selList()},methods:{selList(){this.$http({method:"get",url:"/jieyue/selJieyuePage",params:{page:this.currentPage,limit:this.pageSize}}).then(n=>{this.tableData=n.data,this.total=n.count})},handleSizeChange(n){this.pageSize=n,this.selList()},handleCurrentChange(n){this.currentPage=n,this.selList()},handlePrevClick(){this.selList()},handleNextClick(){this.selList()},check(n,i){this.$http({method:"put",url:"/jieyue/updState",data:{id:n,state:i}}).then(w=>{w.state==1&&(C({message:"审批成功",type:"success"}),this.selList(),this.status=!1)})}}},Z={style:{position:"fixed",top:"150px",left:"230px"}};function $(n,i,w,q,l,s){const d=u("el-table-column"),h=u("el-text"),z=u("el-button"),y=u("el-table"),f=u("el-pagination");return o(),L("div",Z,[t(y,{data:l.tableData,style:{width:"100%"}},{default:e(()=>[t(d,{prop:"id",label:"ID",width:"180"}),t(d,{prop:"archive",label:"档案名称",width:"180"}),t(d,{prop:"user",label:"借阅人",width:"180"}),t(d,{prop:"time",label:"申请时间",width:"180"}),t(d,{prop:"state",label:"状态",width:"180"},{default:e(_=>[_.row.state==0?(o(),r(h,{key:0,class:"mx-1"},{default:e(()=>[a("待审核")]),_:1})):p("",!0),_.row.state==1?(o(),r(h,{key:1,class:"mx-1"},{default:e(()=>[a("借阅成功")]),_:1})):p("",!0),_.row.state==2?(o(),r(h,{key:2,class:"mx-1"},{default:e(()=>[a("借阅失败")]),_:1})):p("",!0)]),_:1}),t(d,{label:"操作",width:"300"},{default:e(_=>[_.row.state==0?(o(),r(z,{key:0,type:"warning",onClick:x=>s.check(_.row.id,1)},{default:e(()=>[a("审批通过")]),_:2},1032,["onClick"])):p("",!0),_.row.state==0?(o(),r(z,{key:1,type:"danger",onClick:x=>s.check(_.row.id,2)},{default:e(()=>[a("审批不通过")]),_:2},1032,["onClick"])):p("",!0)]),_:1})]),_:1},8,["data"]),t(f,{"current-page":l.currentPage,"page-size":l.pageSize,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:l.total,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange,onPrevClick:s.handlePrevClick,onNextClick:s.handleNextClick},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange","onPrevClick","onNextClick"])])}const ee=F(W,[["render",$]]),te={data(){return{bumen:{yiji:0,erji:0,yijiList:[{id:0,mingcheng:"请选择部门"}],erjiList:[{id:0,mingcheng:"请选择部门"}],sanjiList:[{id:0,mingcheng:"请选择部门"}]},jueseList:[{id:0,mingcheng:"管理员"},{id:1,mingcheng:"员工"},{id:2,mingcheng:"普通用户"}],tableData:[],form:{id:0,username:"",password:"",role:0,mingcheng:"",bumen_id:0},status:!1,currentPage:1,pageSize:10,total:0}},components:{},mounted(){this.selList(),this.selYijiList()},methods:{selYijiList(){this.$http({method:"get",url:"/bumen/selBumenPage",params:{page:1,limit:1e7,dengji:1,shangji_id:0}}).then(n=>{this.bumen.yijiList=[{id:0,mingcheng:"请选择部门"}];for(let i=0;i<n.data.length;i++)this.bumen.yijiList.push(n.data[i])})},selErjiList(n){this.$http({method:"get",url:"/bumen/selBumenPage",params:{page:1,limit:1e7,dengji:2,shangji_id:n}}).then(i=>{this.bumen.erjiList=[{id:0,mingcheng:"请选择部门"}];for(let w=0;w<i.data.length;w++)this.bumen.erjiList.push(i.data[w])})},selSanjiList(n){this.$http({method:"get",url:"/bumen/selBumenPage",params:{page:1,limit:1e7,dengji:3,shangji_id:n}}).then(i=>{this.bumen.sanjiList=[{id:0,mingcheng:"请选择部门"}];for(let w=0;w<i.data.length;w++)this.bumen.sanjiList.push(i.data[w])})},selList(){this.$http({method:"get",url:"/user/selUserPage",params:{page:this.currentPage,limit:this.pageSize}}).then(n=>{this.tableData=n.data,this.total=n.count})},handleSizeChange(n){this.pageSize=n,this.selList()},handleCurrentChange(n){this.currentPage=n,this.selList()},handlePrevClick(){this.selList()},handleNextClick(){this.selList()},add(){this.form=this.$options.data().form,this.status=!0},update(n){this.$http({url:"/user/selUserInfo",method:"get",params:{id:n}}).then(i=>{this.form=i.data,this.status=!0})},delet(n){this.$http({url:"/user/delUser",method:"delete",params:{id:n}}).then(i=>{i.state==1&&(C({message:"删除成功",type:"success"}),this.selList())})},sub(){this.form.id==0?this.$refs.formRef.validate(async n=>{n&&this.$http({url:"/user/insUser",method:"post",data:this.form}).then(i=>{i.state==1&&(C({message:"添加成功",type:"success"}),this.selList(),this.status=!1)})}):this.$refs.formRef.validate(async n=>{n&&this.$http({method:"put",url:"/user/updUser",data:this.form}).then(i=>{i.state==1&&(C({message:"修改成功",type:"success"}),this.selList(),this.status=!1)})})},reset(){this.$refs.formRef.resetFields()}}},le={style:{position:"fixed",top:"150px",left:"230px"}};function ne(n,i,w,q,l,s){const d=u("el-button"),h=u("el-table-column"),z=u("el-text"),y=u("el-table"),f=u("el-pagination"),_=u("el-input"),x=u("el-form-item"),k=u("el-option"),b=u("el-select"),v=u("el-form"),g=u("el-dialog");return o(),L(S,null,[t(d,{type:"primary",onClick:s.add,style:{position:"fixed",left:"230px",top:"110px"}},{default:e(()=>[a("添加")]),_:1},8,["onClick"]),j("div",le,[t(y,{data:l.tableData,style:{width:"100%"}},{default:e(()=>[t(h,{prop:"id",label:"ID",width:"180"}),t(h,{prop:"mingcheng",label:"名称",width:"180"}),t(h,{prop:"username",label:"用户名",width:"180"}),t(h,{prop:"password",label:"密码",width:"180"},{default:e(c=>[a(" ****** ")]),_:1}),t(h,{prop:"role",label:"角色",width:"180"},{default:e(c=>[c.row.role==0?(o(),r(z,{key:0,class:"mx-1"},{default:e(()=>[a("管理员")]),_:1})):p("",!0),c.row.role==1?(o(),r(z,{key:1,class:"mx-1"},{default:e(()=>[a("员工")]),_:1})):p("",!0),c.row.role==2?(o(),r(z,{key:2,class:"mx-1"},{default:e(()=>[a("普通用户")]),_:1})):p("",!0)]),_:1}),t(h,{prop:"bumen",label:"部门",width:"180"}),t(h,{label:"操作",width:"180"},{default:e(c=>[t(d,{type:"warning",onClick:N=>s.update(c.row.id)},{default:e(()=>[a("修改")]),_:2},1032,["onClick"]),t(d,{type:"danger",onClick:N=>s.delet(c.row.id)},{default:e(()=>[a("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(f,{"current-page":l.currentPage,"page-size":l.pageSize,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:l.total,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange,onPrevClick:s.handlePrevClick,onNextClick:s.handleNextClick},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange","onPrevClick","onNextClick"])]),t(g,{"model-value":l.status,onClose:i[7]||(i[7]=c=>l.status=!1)},{default:e(()=>[t(v,{model:l.form,"label-width":"120px",ref:"formRef"},{default:e(()=>[t(x,{label:"名称",required:"",prop:"mingcheng"},{default:e(()=>[t(_,{modelValue:l.form.mingcheng,"onUpdate:modelValue":i[0]||(i[0]=c=>l.form.mingcheng=c)},null,8,["modelValue"])]),_:1}),t(x,{label:"用户名",required:"",prop:"username"},{default:e(()=>[t(_,{modelValue:l.form.username,"onUpdate:modelValue":i[1]||(i[1]=c=>l.form.username=c)},null,8,["modelValue"])]),_:1}),t(x,{label:"密码",required:"",prop:"password"},{default:e(()=>[t(_,{modelValue:l.form.password,"onUpdate:modelValue":i[2]||(i[2]=c=>l.form.password=c),type:"password"},null,8,["modelValue"])]),_:1}),t(x,{label:"角色",required:"",prop:"role"},{default:e(()=>[t(b,{modelValue:l.form.role,"onUpdate:modelValue":i[3]||(i[3]=c=>l.form.role=c),class:"m-2",placeholder:"Select"},{default:e(()=>[(o(!0),L(S,null,V(l.jueseList,c=>(o(),r(k,{key:c.id,label:c.mingcheng,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(x,{label:"部门",required:"",prop:"bumen_id"},{default:e(()=>[t(b,{modelValue:l.bumen.yiji,"onUpdate:modelValue":i[4]||(i[4]=c=>l.bumen.yiji=c),class:"m-2",placeholder:"Select",onChange:s.selErjiList},{default:e(()=>[(o(!0),L(S,null,V(l.bumen.yijiList,c=>(o(),r(k,{key:c.id,label:c.mingcheng,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"]),t(b,{modelValue:l.bumen.erji,"onUpdate:modelValue":i[5]||(i[5]=c=>l.bumen.erji=c),class:"m-2",placeholder:"Select",onChange:s.selSanjiList},{default:e(()=>[(o(!0),L(S,null,V(l.bumen.erjiList,c=>(o(),r(k,{key:c.id,label:c.mingcheng,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"]),t(b,{modelValue:l.form.bumen_id,"onUpdate:modelValue":i[6]||(i[6]=c=>l.form.bumen_id=c),class:"m-2",placeholder:"Select"},{default:e(()=>[(o(!0),L(S,null,V(l.bumen.sanjiList,c=>(o(),r(k,{key:c.id,label:c.mingcheng,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(x,null,{default:e(()=>[t(d,{type:"primary",onClick:s.sub},{default:e(()=>[a("提交")]),_:1},8,["onClick"]),t(d,{onClick:s.reset},{default:e(()=>[a("重置")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])],64)}const ie=F(te,[["render",ne]]),ae={data(){return{bumen:{yiji:0,erji:0,yijiList:[{id:0,mingcheng:"请选择部门"}],erjiList:[{id:0,mingcheng:"请选择部门"}]},dengjiList:[{id:0,mingcheng:"请选择等级"},{id:1,mingcheng:"一级"},{id:2,mingcheng:"二级"},{id:3,mingcheng:"三级"}],tableData:[],form:{id:0,mingcheng:"",dengji:0,shangji_id:0},status:!1,currentPage:1,pageSize:10,total:0}},components:{},mounted(){this.selList(),this.selYijiList()},methods:{dengjiChange(n){n==1&&(this.form.shangji_id=0)},selYijiList(){this.$http({method:"get",url:"/bumen/selBumenPage",params:{page:1,limit:1e7,dengji:1,shangji_id:0}}).then(n=>{this.bumen.yijiList=[{id:0,mingcheng:"请选择部门"}];for(let i=0;i<n.data.length;i++)this.bumen.yijiList.push(n.data[i])})},selErjiList(n){this.$http({method:"get",url:"/bumen/selBumenPage",params:{page:1,limit:1e7,dengji:2,shangji_id:n}}).then(i=>{this.bumen.erjiList=[{id:0,mingcheng:"请选择部门"}];for(let w=0;w<i.data.length;w++)this.bumen.erjiList.push(i.data[w])})},selList(){this.$http({method:"get",url:"/bumen/selBumenPage",params:{page:this.currentPage,limit:this.pageSize,dengji:-1,shangji_id:-1}}).then(n=>{this.tableData=n.data,this.total=n.count})},handleSizeChange(n){this.pageSize=n,this.selList()},handleCurrentChange(n){this.currentPage=n,this.selList()},handlePrevClick(){this.selList()},handleNextClick(){this.selList()},add(){this.form=this.$options.data().form,this.status=!0},update(n){this.$http({url:"/bumen/selBumenInfo",method:"get",params:{id:n}}).then(i=>{this.form=i.data,this.status=!0})},delet(n){this.$http({url:"/bumen/delBumen",method:"delete",params:{id:n}}).then(i=>{i.state==1&&(C({message:"删除成功",type:"success"}),this.selList(),this.selYijiList())})},sub(){this.form.id==0?this.$refs.formRef.validate(async n=>{n&&this.$http({url:"/bumen/insBumen",method:"post",data:this.form}).then(i=>{i.state==1&&(C({message:"添加成功",type:"success"}),this.selList(),this.selYijiList(),this.status=!1)})}):this.$refs.formRef.validate(async n=>{n&&this.$http({method:"put",url:"/bumen/updBumen",data:this.form}).then(i=>{i.state==1&&(C({message:"修改成功",type:"success"}),this.selList(),this.selYijiList(),this.status=!1)})})},reset(){this.$refs.formRef.resetFields()}}},se={style:{position:"fixed",top:"150px",left:"230px"}};function oe(n,i,w,q,l,s){const d=u("el-button"),h=u("el-table-column"),z=u("el-table"),y=u("el-pagination"),f=u("el-input"),_=u("el-form-item"),x=u("el-option"),k=u("el-select"),b=u("el-form"),v=u("el-dialog");return o(),L(S,null,[t(d,{type:"primary",onClick:s.add,style:{position:"fixed",left:"230px",top:"110px"}},{default:e(()=>[a("添加")]),_:1},8,["onClick"]),j("div",se,[t(z,{data:l.tableData,style:{width:"100%"}},{default:e(()=>[t(h,{prop:"id",label:"ID",width:"180"}),t(h,{prop:"mingcheng",label:"名称",width:"180"}),t(h,{prop:"dengji",label:"等级",width:"180"}),t(h,{prop:"shangji",label:"上级",width:"180"}),t(h,{label:"操作",width:"180"},{default:e(g=>[t(d,{type:"warning",onClick:c=>s.update(g.row.id)},{default:e(()=>[a("修改")]),_:2},1032,["onClick"]),t(d,{type:"danger",onClick:c=>s.delet(g.row.id)},{default:e(()=>[a("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(y,{"current-page":l.currentPage,"page-size":l.pageSize,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:l.total,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange,onPrevClick:s.handlePrevClick,onNextClick:s.handleNextClick},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange","onPrevClick","onNextClick"])]),t(v,{"model-value":l.status,onClose:i[5]||(i[5]=g=>l.status=!1)},{default:e(()=>[t(b,{model:l.form,"label-width":"120px",ref:"formRef"},{default:e(()=>[t(_,{label:"名称",required:"",prop:"mingcheng"},{default:e(()=>[t(f,{modelValue:l.form.mingcheng,"onUpdate:modelValue":i[0]||(i[0]=g=>l.form.mingcheng=g)},null,8,["modelValue"])]),_:1}),t(_,{label:"等级",required:"",prop:"dengji"},{default:e(()=>[t(k,{modelValue:l.form.dengji,"onUpdate:modelValue":i[1]||(i[1]=g=>l.form.dengji=g),class:"m-2",placeholder:"Select",onChange:s.dengjiChange},{default:e(()=>[(o(!0),L(S,null,V(l.dengjiList,g=>(o(),r(x,{key:g.id,label:g.mingcheng,value:g.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),t(_,{label:"上级",required:"",prop:"shangji_id"},{default:e(()=>[l.form.dengji==2?(o(),r(k,{key:0,modelValue:l.form.shangji_id,"onUpdate:modelValue":i[2]||(i[2]=g=>l.form.shangji_id=g),class:"m-2",placeholder:"Select"},{default:e(()=>[(o(!0),L(S,null,V(l.bumen.yijiList,g=>(o(),r(x,{key:g.id,label:g.mingcheng,value:g.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):p("",!0),l.form.dengji==3?(o(),r(k,{key:1,modelValue:l.bumen.yiji,"onUpdate:modelValue":i[3]||(i[3]=g=>l.bumen.yiji=g),class:"m-2",placeholder:"Select",onChange:s.selErjiList},{default:e(()=>[(o(!0),L(S,null,V(l.bumen.yijiList,g=>(o(),r(x,{key:g.id,label:g.mingcheng,value:g.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])):p("",!0),l.form.dengji==3?(o(),r(k,{key:2,modelValue:l.form.shangji_id,"onUpdate:modelValue":i[4]||(i[4]=g=>l.form.shangji_id=g),class:"m-2",placeholder:"Select"},{default:e(()=>[(o(!0),L(S,null,V(l.bumen.erjiList,g=>(o(),r(x,{key:g.id,label:g.mingcheng,value:g.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):p("",!0)]),_:1}),t(_,null,{default:e(()=>[t(d,{type:"primary",onClick:s.sub},{default:e(()=>[a("提交")]),_:1},8,["onClick"]),t(d,{onClick:s.reset},{default:e(()=>[a("重置")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])],64)}const ue=F(ae,[["render",oe]]),re={data(){return{tableData:[],form:{id:0,mingcheng:""},status:!1,currentPage:1,pageSize:10,total:0}},components:{},mounted(){this.selList()},methods:{selList(){this.$http({method:"get",url:"/dalx/selDalxPage",params:{page:this.currentPage,limit:this.pageSize}}).then(n=>{this.tableData=n.data,this.total=n.count})},handleSizeChange(n){this.pageSize=n,this.selList()},handleCurrentChange(n){this.currentPage=n,this.selList()},handlePrevClick(){this.selList()},handleNextClick(){this.selList()},add(){this.form=this.$options.data().form,this.status=!0},update(n){this.$http({url:"/dalx/selDalxInfo",method:"get",params:{id:n}}).then(i=>{this.form=i.data,this.status=!0})},delet(n){this.$http({url:"/dalx/delDalx",method:"delete",params:{id:n}}).then(i=>{i.state==1&&(C({message:"删除成功",type:"success"}),this.selList())})},sub(){this.form.id==0?this.$refs.formRef.validate(async n=>{n&&this.$http({url:"/dalx/insDalx",method:"post",data:this.form}).then(i=>{i.state==1&&(C({message:"添加成功",type:"success"}),this.selList(),this.status=!1)})}):this.$refs.formRef.validate(async n=>{n&&this.$http({method:"put",url:"/dalx/updDalx",data:this.form}).then(i=>{i.state==1&&(C({message:"修改成功",type:"success"}),this.selList(),this.status=!1)})})},reset(){this.$refs.formRef.resetFields()}}},de={style:{position:"fixed",top:"150px",left:"230px"}};function me(n,i,w,q,l,s){const d=u("el-button"),h=u("el-table-column"),z=u("el-table"),y=u("el-pagination"),f=u("el-input"),_=u("el-form-item"),x=u("el-form"),k=u("el-dialog");return o(),L(S,null,[t(d,{type:"primary",onClick:s.add,style:{position:"fixed",left:"230px",top:"110px"}},{default:e(()=>[a("添加")]),_:1},8,["onClick"]),j("div",de,[t(z,{data:l.tableData,style:{width:"100%"}},{default:e(()=>[t(h,{prop:"id",label:"ID",width:"180"}),t(h,{prop:"mingcheng",label:"名称",width:"180"}),t(h,{label:"操作",width:"180"},{default:e(b=>[t(d,{type:"warning",onClick:v=>s.update(b.row.id)},{default:e(()=>[a("修改")]),_:2},1032,["onClick"]),t(d,{type:"danger",onClick:v=>s.delet(b.row.id)},{default:e(()=>[a("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(y,{"current-page":l.currentPage,"page-size":l.pageSize,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:l.total,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange,onPrevClick:s.handlePrevClick,onNextClick:s.handleNextClick},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange","onPrevClick","onNextClick"])]),t(k,{"model-value":l.status,onClose:i[1]||(i[1]=b=>l.status=!1)},{default:e(()=>[t(x,{model:l.form,"label-width":"120px",ref:"formRef"},{default:e(()=>[t(_,{label:"名称",required:"",prop:"mingcheng"},{default:e(()=>[t(f,{modelValue:l.form.mingcheng,"onUpdate:modelValue":i[0]||(i[0]=b=>l.form.mingcheng=b)},null,8,["modelValue"])]),_:1}),t(_,null,{default:e(()=>[t(d,{type:"primary",onClick:s.sub},{default:e(()=>[a("提交")]),_:1},8,["onClick"]),t(d,{onClick:s.reset},{default:e(()=>[a("重置")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])],64)}const he=F(re,[["render",me]]),pe={data(){return{tableData:[],form:{id:0,mingcheng:""},status:!1,currentPage:1,pageSize:10,total:0}},components:{},mounted(){this.selList()},methods:{selList(){this.$http({method:"get",url:"/daly/selDalyPage",params:{page:this.currentPage,limit:this.pageSize}}).then(n=>{this.tableData=n.data,this.total=n.count})},handleSizeChange(n){this.pageSize=n,this.selList()},handleCurrentChange(n){this.currentPage=n,this.selList()},handlePrevClick(){this.selList()},handleNextClick(){this.selList()},add(){this.form=this.$options.data().form,this.status=!0},update(n){this.$http({url:"/daly/selDalyInfo",method:"get",params:{id:n}}).then(i=>{this.form=i.data,this.status=!0})},delet(n){this.$http({url:"/daly/delDaly",method:"delete",params:{id:n}}).then(i=>{i.state==1&&(C({message:"删除成功",type:"success"}),this.selList())})},sub(){this.form.id==0?this.$refs.formRef.validate(async n=>{n&&this.$http({url:"/daly/insDaly",method:"post",data:this.form}).then(i=>{i.state==1&&(C({message:"添加成功",type:"success"}),this.selList(),this.status=!1)})}):this.$refs.formRef.validate(async n=>{n&&this.$http({method:"put",url:"/daly/updDaly",data:this.form}).then(i=>{i.state==1&&(C({message:"修改成功",type:"success"}),this.selList(),this.status=!1)})})},reset(){this.$refs.formRef.resetFields()}}},ce={style:{position:"fixed",top:"150px",left:"230px"}};function fe(n,i,w,q,l,s){const d=u("el-button"),h=u("el-table-column"),z=u("el-table"),y=u("el-pagination"),f=u("el-input"),_=u("el-form-item"),x=u("el-form"),k=u("el-dialog");return o(),L(S,null,[t(d,{type:"primary",onClick:s.add,style:{position:"fixed",left:"230px",top:"110px"}},{default:e(()=>[a("添加")]),_:1},8,["onClick"]),j("div",ce,[t(z,{data:l.tableData,style:{width:"100%"}},{default:e(()=>[t(h,{prop:"id",label:"ID",width:"180"}),t(h,{prop:"mingcheng",label:"名称",width:"180"}),t(h,{label:"操作",width:"180"},{default:e(b=>[t(d,{type:"warning",onClick:v=>s.update(b.row.id)},{default:e(()=>[a("修改")]),_:2},1032,["onClick"]),t(d,{type:"danger",onClick:v=>s.delet(b.row.id)},{default:e(()=>[a("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(y,{"current-page":l.currentPage,"page-size":l.pageSize,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:l.total,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange,onPrevClick:s.handlePrevClick,onNextClick:s.handleNextClick},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange","onPrevClick","onNextClick"])]),t(k,{"model-value":l.status,onClose:i[1]||(i[1]=b=>l.status=!1)},{default:e(()=>[t(x,{model:l.form,"label-width":"120px",ref:"formRef"},{default:e(()=>[t(_,{label:"名称",required:"",prop:"mingcheng"},{default:e(()=>[t(f,{modelValue:l.form.mingcheng,"onUpdate:modelValue":i[0]||(i[0]=b=>l.form.mingcheng=b)},null,8,["modelValue"])]),_:1}),t(_,null,{default:e(()=>[t(d,{type:"primary",onClick:s.sub},{default:e(()=>[a("提交")]),_:1},8,["onClick"]),t(d,{onClick:s.reset},{default:e(()=>[a("重置")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])],64)}const _e=F(pe,[["render",fe]]),ge={data(){return{tableData:[],form:{id:0,mingcheng:"",jiekou:""},status:!1,currentPage:1,pageSize:10,total:0}},components:{},mounted(){this.selList()},methods:{selList(){this.$http({method:"get",url:"/quanxian/selQuanxianPage",params:{page:this.currentPage,limit:this.pageSize}}).then(n=>{this.tableData=n.data,this.total=n.count})},handleSizeChange(n){this.pageSize=n,this.selList()},handleCurrentChange(n){this.currentPage=n,this.selList()},handlePrevClick(){this.selList()},handleNextClick(){this.selList()},add(){this.form=this.$options.data().form,this.status=!0},update(n){this.$http({url:"/quanxian/selQuanxianInfo",method:"get",params:{id:n}}).then(i=>{this.form=i.data,this.status=!0})},delet(n){this.$http({url:"/quanxian/delQuanxian",method:"delete",params:{id:n}}).then(i=>{i.state==1&&(C({message:"删除成功",type:"success"}),this.selList())})},sub(){this.form.id==0?this.$refs.formRef.validate(async n=>{n&&this.$http({url:"/quanxian/insQuanxian",method:"post",data:this.form}).then(i=>{i.state==1&&(C({message:"添加成功",type:"success"}),this.selList(),this.status=!1)})}):this.$refs.formRef.validate(async n=>{n&&this.$http({method:"put",url:"/quanxian/updQuanxian",data:this.form}).then(i=>{i.state==1&&(C({message:"修改成功",type:"success"}),this.selList(),this.status=!1)})})},reset(){this.$refs.formRef.resetFields()}}},ye={style:{position:"fixed",top:"150px",left:"230px"}};function Ce(n,i,w,q,l,s){const d=u("el-button"),h=u("el-table-column"),z=u("el-table"),y=u("el-pagination"),f=u("el-input"),_=u("el-form-item"),x=u("el-form"),k=u("el-dialog");return o(),L(S,null,[t(d,{type:"primary",onClick:s.add,style:{position:"fixed",left:"230px",top:"110px"}},{default:e(()=>[a("添加")]),_:1},8,["onClick"]),j("div",ye,[t(z,{data:l.tableData,style:{width:"100%"}},{default:e(()=>[t(h,{prop:"id",label:"ID",width:"180"}),t(h,{prop:"mingcheng",label:"名称",width:"180"}),t(h,{prop:"jiekou",label:"接口",width:"200"}),t(h,{label:"操作",width:"180"},{default:e(b=>[t(d,{type:"warning",onClick:v=>s.update(b.row.id)},{default:e(()=>[a("修改")]),_:2},1032,["onClick"]),t(d,{type:"danger",onClick:v=>s.delet(b.row.id)},{default:e(()=>[a("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(y,{"current-page":l.currentPage,"page-size":l.pageSize,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:l.total,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange,onPrevClick:s.handlePrevClick,onNextClick:s.handleNextClick},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange","onPrevClick","onNextClick"])]),t(k,{"model-value":l.status,onClose:i[2]||(i[2]=b=>l.status=!1)},{default:e(()=>[t(x,{model:l.form,"label-width":"120px",ref:"formRef"},{default:e(()=>[t(_,{label:"名称",required:"",prop:"mingcheng"},{default:e(()=>[t(f,{modelValue:l.form.mingcheng,"onUpdate:modelValue":i[0]||(i[0]=b=>l.form.mingcheng=b)},null,8,["modelValue"])]),_:1}),t(_,{label:"接口",required:"",prop:"jiekou"},{default:e(()=>[t(f,{modelValue:l.form.jiekou,"onUpdate:modelValue":i[1]||(i[1]=b=>l.form.jiekou=b)},null,8,["modelValue"])]),_:1}),t(_,null,{default:e(()=>[t(d,{type:"primary",onClick:s.sub},{default:e(()=>[a("提交")]),_:1},8,["onClick"]),t(d,{onClick:s.reset},{default:e(()=>[a("重置")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])],64)}const ke=F(ge,[["render",Ce]]),be={data(){return{gangweiList:[{id:0,mingcheng:"请选择岗位"}],quanxianList:[{id:0,mingcheng:"请选择权限"}],tableData:[],form:{id:0,bumen_id:0,quanxian_id:0},status:!1,currentPage:1,pageSize:10,total:0}},components:{},mounted(){this.selList(),this.selGangweiList(),this.selQuanxianList()},methods:{selGangweiList(){this.$http({method:"get",url:"/bumen/selBumenPage",params:{page:1,limit:1e8,dengji:3,shangji_id:-1}}).then(n=>{for(let i=0;i<n.data.length;i++)this.gangweiList.push(n.data[i])})},selQuanxianList(){this.$http({method:"get",url:"/quanxian/selQuanxianPage",params:{page:1,limit:1e8}}).then(n=>{for(let i=0;i<n.data.length;i++)this.quanxianList.push(n.data[i])})},selList(){this.$http({method:"get",url:"/bmqx/selBmqxPage",params:{page:this.currentPage,limit:this.pageSize}}).then(n=>{this.tableData=n.data,this.total=n.count})},handleSizeChange(n){this.pageSize=n,this.selList()},handleCurrentChange(n){this.currentPage=n,this.selList()},handlePrevClick(){this.selList()},handleNextClick(){this.selList()},add(){this.form=this.$options.data().form,this.status=!0},update(n){this.$http({url:"/bmqx/selBmqxInfo",method:"get",params:{id:n}}).then(i=>{this.form=i.data,this.status=!0})},delet(n){this.$http({url:"/bmqx/delBmqx",method:"delete",params:{id:n}}).then(i=>{i.state==1&&(C({message:"删除成功",type:"success"}),this.selList())})},sub(){this.form.id==0?this.$refs.formRef.validate(async n=>{n&&this.$http({url:"/bmqx/insBmqx",method:"post",data:this.form}).then(i=>{i.state==1&&(C({message:"添加成功",type:"success"}),this.selList(),this.status=!1)})}):this.$refs.formRef.validate(async n=>{n&&this.$http({method:"put",url:"/bmqx/updBmqx",data:this.form}).then(i=>{i.state==1&&(C({message:"修改成功",type:"success"}),this.selList(),this.status=!1)})})},reset(){this.$refs.formRef.resetFields()}}},xe={style:{position:"fixed",top:"150px",left:"230px"}};function ve(n,i,w,q,l,s){const d=u("el-button"),h=u("el-table-column"),z=u("el-table"),y=u("el-pagination"),f=u("el-option"),_=u("el-select"),x=u("el-form-item"),k=u("el-form"),b=u("el-dialog");return o(),L(S,null,[t(d,{type:"primary",onClick:s.add,style:{position:"fixed",left:"230px",top:"110px"}},{default:e(()=>[a("添加")]),_:1},8,["onClick"]),j("div",xe,[t(z,{data:l.tableData,style:{width:"100%"}},{default:e(()=>[t(h,{prop:"id",label:"ID",width:"180"}),t(h,{prop:"bumen",label:"岗位名称",width:"180"}),t(h,{prop:"quanxian",label:"权限",width:"180"}),t(h,{label:"操作",width:"180"},{default:e(v=>[t(d,{type:"warning",onClick:g=>s.update(v.row.id)},{default:e(()=>[a("修改")]),_:2},1032,["onClick"]),t(d,{type:"danger",onClick:g=>s.delet(v.row.id)},{default:e(()=>[a("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(y,{"current-page":l.currentPage,"page-size":l.pageSize,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:l.total,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange,onPrevClick:s.handlePrevClick,onNextClick:s.handleNextClick},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange","onPrevClick","onNextClick"])]),t(b,{"model-value":l.status,onClose:i[2]||(i[2]=v=>l.status=!1)},{default:e(()=>[t(k,{model:l.form,"label-width":"120px",ref:"formRef"},{default:e(()=>[t(x,{label:"岗位",required:"",prop:"bumen_id"},{default:e(()=>[t(_,{modelValue:l.form.bumen_id,"onUpdate:modelValue":i[0]||(i[0]=v=>l.form.bumen_id=v),class:"m-2",placeholder:"Select"},{default:e(()=>[(o(!0),L(S,null,V(l.gangweiList,v=>(o(),r(f,{key:v.id,label:v.mingcheng,value:v.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(x,{label:"权限",required:"",prop:"quanxian_id"},{default:e(()=>[t(_,{modelValue:l.form.quanxian_id,"onUpdate:modelValue":i[1]||(i[1]=v=>l.form.quanxian_id=v),class:"m-2",placeholder:"Select"},{default:e(()=>[(o(!0),L(S,null,V(l.quanxianList,v=>(o(),r(f,{key:v.id,label:v.mingcheng,value:v.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(x,null,{default:e(()=>[t(d,{type:"primary",onClick:s.sub},{default:e(()=>[a("提交")]),_:1},8,["onClick"]),t(d,{onClick:s.reset},{default:e(()=>[a("重置")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])],64)}const ze=F(be,[["render",ve]]),we={data(){return{tableData:[],form:{id:0,archive_id:0,caozuo_id:0,user_id:0,time:"",beizhu:"",archive:"",user:""},status:!1,currentPage:1,pageSize:10,total:0}},components:{},mounted(){this.selList()},methods:{selList(){this.$http({method:"get",url:"/dals/selDalsPage",params:{page:this.currentPage,limit:this.pageSize}}).then(n=>{this.tableData=n.data,this.total=n.count})},handleSizeChange(n){this.pageSize=n,this.selList()},handleCurrentChange(n){this.currentPage=n,this.selList()},handlePrevClick(){this.selList()},handleNextClick(){this.selList()}}},Le={style:{position:"fixed",top:"150px",left:"230px"}};function Se(n,i,w,q,l,s){const d=u("el-table-column"),h=u("el-text"),z=u("el-table"),y=u("el-pagination");return o(),L("div",Le,[t(z,{data:l.tableData,style:{width:"100%"}},{default:e(()=>[t(d,{prop:"id",label:"ID",width:"180"}),t(d,{prop:"archive",label:"档案",width:"180"},{default:e(f=>[f.row.archive==null?(o(),r(h,{key:0,class:"mx-1",type:"primary"},{default:e(()=>[a("已删除")]),_:1})):p("",!0),f.row.archive!=null?(o(),r(h,{key:1,class:"mx-1",type:"primary"},{default:e(()=>[a(R(f.row.archive),1)]),_:2},1024)):p("",!0)]),_:1}),t(d,{prop:"user",label:"操作人",width:"180"}),t(d,{prop:"caozuo_id",label:"操作",width:"180"},{default:e(f=>[f.row.caozuo_id==1?(o(),r(h,{key:0,class:"mx-1",type:"primary"},{default:e(()=>[a("通过审批")]),_:1})):p("",!0),f.row.caozuo_id==2?(o(),r(h,{key:1,class:"mx-1",type:"primary"},{default:e(()=>[a("拒绝审批")]),_:1})):p("",!0),f.row.caozuo_id==3?(o(),r(h,{key:2,class:"mx-1",type:"primary"},{default:e(()=>[a("交接")]),_:1})):p("",!0),f.row.caozuo_id==4?(o(),r(h,{key:3,class:"mx-1",type:"primary"},{default:e(()=>[a("鉴定")]),_:1})):p("",!0),f.row.caozuo_id==5?(o(),r(h,{key:4,class:"mx-1",type:"primary"},{default:e(()=>[a("归档")]),_:1})):p("",!0),f.row.caozuo_id==6?(o(),r(h,{key:5,class:"mx-1",type:"primary"},{default:e(()=>[a("保管")]),_:1})):p("",!0),f.row.caozuo_id==8?(o(),r(h,{key:6,class:"mx-1",type:"primary"},{default:e(()=>[a("定期鉴定")]),_:1})):p("",!0),f.row.caozuo_id==9?(o(),r(h,{key:7,class:"mx-1",type:"primary"},{default:e(()=>[a("通过销毁申请")]),_:1})):p("",!0),f.row.caozuo_id==10?(o(),r(h,{key:8,class:"mx-1",type:"primary"},{default:e(()=>[a("拒绝销毁申请")]),_:1})):p("",!0),f.row.caozuo_id==11?(o(),r(h,{key:9,class:"mx-1",type:"primary"},{default:e(()=>[a("销毁")]),_:1})):p("",!0),f.row.caozuo_id==12?(o(),r(h,{key:10,class:"mx-1",type:"primary"},{default:e(()=>[a("删除")]),_:1})):p("",!0),f.row.caozuo_id==14?(o(),r(h,{key:11,class:"mx-1",type:"primary"},{default:e(()=>[a("申请借阅")]),_:1})):p("",!0),f.row.caozuo_id==15?(o(),r(h,{key:12,class:"mx-1",type:"primary"},{default:e(()=>[a("归还借阅")]),_:1})):p("",!0)]),_:1}),t(d,{prop:"time",label:"操作时间",width:"180"}),t(d,{prop:"beizhu",label:"备注",width:"180"})]),_:1},8,["data"]),t(y,{"current-page":l.currentPage,"page-size":l.pageSize,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:l.total,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange,onPrevClick:s.handlePrevClick,onNextClick:s.handleNextClick},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange","onPrevClick","onNextClick"])])}const je=F(we,[["render",Se]]),Pe={data(){return{menu:"dangan",fm:"档案管理",sm:"档案列表"}},components:{dangan:O,jy:ee,user:ie,bumen:ue,dalx:he,daly:_e,qx:ke,bmqx:ze,dals:je,HomeFilled:Y,Edit:H},beforeCreate(){document.querySelector("body").setAttribute("style","background: url('');background-color:white")},beforeDestroy(){document.querySelector("body").removeAttribute("style")},methods:{open(n){this.menu=n,n=="dangan"&&(this.fm="档案管理",this.sm="档案列表"),n=="jy"&&(this.fm="借阅管理",this.sm="借阅列表"),n=="user"&&(this.fm="用户管理",this.sm="用户列表"),n=="bumen"&&(this.fm="部门管理",this.sm="部门列表"),n=="dalx"&&(this.fm="档案类型管理",this.sm="档案类型列表"),n=="daly"&&(this.fm="档案来源管理",this.sm="档案来源列表"),n=="qx"&&(this.fm="权限管理",this.sm="权限列表"),n=="bmqx"&&(this.fm="岗位权限管理",this.sm="岗位权限列表"),n=="dals"&&(this.fm="档案操作历史管理",this.sm="档案操作历史列表")}}},Ve=j("h3",null,"档案管理系统",-1),Fe=j("span",null,"档案管理",-1),qe=j("span",null,"借阅管理",-1),De=j("span",null,"用户管理",-1),Ne=j("span",null,"部门管理",-1),Re=j("span",null,"档案类型管理",-1),Ue=j("span",null,"档案来源管理",-1),Be=j("span",null,"权限管理",-1),Ie=j("span",null,"岗位权限管理",-1),Ee=j("span",null,"档案操作历史",-1);function Ge(n,i,w,q,l,s){const d=u("HomeFilled"),h=u("el-icon"),z=u("el-menu-item"),y=u("el-menu-item-group"),f=u("el-sub-menu"),_=u("Edit"),x=u("el-menu"),k=u("el-aside"),b=u("el-link"),v=u("el-header"),g=u("el-breadcrumb-item"),c=u("el-breadcrumb"),N=u("dangan"),m=u("jy"),P=u("user"),B=u("bumen"),I=u("dalx"),E=u("daly"),G=u("qx"),J=u("bmqx"),X=u("dals"),Q=u("el-main"),U=u("el-container");return o(),L("div",null,[t(U,{style:{position:"fixed",height:"100%",width:"100%",top:"0px",left:"0px"}},{default:e(()=>[t(k,{width:"200px"},{default:e(()=>[Ve,t(x,{"default-active":"/home/dangan"},{default:e(()=>[t(f,{index:"1"},{title:e(()=>[t(h,null,{default:e(()=>[t(d)]),_:1}),Fe]),default:e(()=>[t(y,null,{default:e(()=>[t(z,{index:"/home/dangan",onClick:i[0]||(i[0]=D=>s.open("dangan"))},{default:e(()=>[a("查看档案列表")]),_:1})]),_:1})]),_:1}),t(f,{index:"2"},{title:e(()=>[t(h,null,{default:e(()=>[t(_)]),_:1}),qe]),default:e(()=>[t(y,null,{default:e(()=>[t(z,{index:"2-1",onClick:i[1]||(i[1]=D=>s.open("jy"))},{default:e(()=>[a("查看借阅列表")]),_:1})]),_:1})]),_:1}),t(f,{index:"3"},{title:e(()=>[t(h,null,{default:e(()=>[t(_)]),_:1}),De]),default:e(()=>[t(y,null,{default:e(()=>[t(z,{index:"3-1",onClick:i[2]||(i[2]=D=>s.open("user"))},{default:e(()=>[a("查看用户列表")]),_:1})]),_:1})]),_:1}),t(f,{index:"4"},{title:e(()=>[t(h,null,{default:e(()=>[t(_)]),_:1}),Ne]),default:e(()=>[t(y,null,{default:e(()=>[t(z,{index:"4-1",onClick:i[3]||(i[3]=D=>s.open("bumen"))},{default:e(()=>[a("查看部门列表")]),_:1})]),_:1})]),_:1}),t(f,{index:"5"},{title:e(()=>[t(h,null,{default:e(()=>[t(_)]),_:1}),Re]),default:e(()=>[t(y,null,{default:e(()=>[t(z,{index:"5-1",onClick:i[4]||(i[4]=D=>s.open("dalx"))},{default:e(()=>[a("查看档案类型列表")]),_:1})]),_:1})]),_:1}),t(f,{index:"6"},{title:e(()=>[t(h,null,{default:e(()=>[t(_)]),_:1}),Ue]),default:e(()=>[t(y,null,{default:e(()=>[t(z,{index:"6-1",onClick:i[5]||(i[5]=D=>s.open("daly"))},{default:e(()=>[a("查看档案来源列表")]),_:1})]),_:1})]),_:1}),t(f,{index:"7"},{title:e(()=>[t(h,null,{default:e(()=>[t(_)]),_:1}),Be]),default:e(()=>[t(y,null,{default:e(()=>[t(z,{index:"7-1",onClick:i[6]||(i[6]=D=>s.open("qx"))},{default:e(()=>[a("查看权限列表")]),_:1})]),_:1})]),_:1}),t(f,{index:"8"},{title:e(()=>[t(h,null,{default:e(()=>[t(_)]),_:1}),Ie]),default:e(()=>[t(y,null,{default:e(()=>[t(z,{index:"8-1",onClick:i[7]||(i[7]=D=>s.open("bmqx"))},{default:e(()=>[a("查看岗位权限列表")]),_:1})]),_:1})]),_:1}),t(f,{index:"9"},{title:e(()=>[t(h,null,{default:e(()=>[t(_)]),_:1}),Ee]),default:e(()=>[t(y,null,{default:e(()=>[t(z,{index:"9-1",onClick:i[8]||(i[8]=D=>s.open("dals"))},{default:e(()=>[a("查看档案操作历史")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(U,null,{default:e(()=>[t(v,{style:{"border-width":"1px","border-style":"solid","border-color":"#DCDFE6"}},{default:e(()=>[t(b,{type:"primary",style:{position:"absolute",right:"6%",top:"2%","font-size":"large"},href:"/"},{default:e(()=>[a("退出")]),_:1})]),_:1}),t(Q,null,{default:e(()=>[t(c,{separator:"/"},{default:e(()=>[t(g,{to:{path:""}},{default:e(()=>[a(R(l.fm),1)]),_:1}),t(g,null,{default:e(()=>[a(R(l.sm),1)]),_:1})]),_:1}),l.menu=="dangan"?(o(),r(N,{key:0})):p("",!0),l.menu=="jy"?(o(),r(m,{key:1})):p("",!0),l.menu=="user"?(o(),r(P,{key:2})):p("",!0),l.menu=="bumen"?(o(),r(B,{key:3})):p("",!0),l.menu=="dalx"?(o(),r(I,{key:4})):p("",!0),l.menu=="daly"?(o(),r(E,{key:5})):p("",!0),l.menu=="qx"?(o(),r(G,{key:6})):p("",!0),l.menu=="bmqx"?(o(),r(J,{key:7})):p("",!0),l.menu=="dals"?(o(),r(X,{key:8})):p("",!0)]),_:1})]),_:1})]),_:1})])}const Xe=F(Pe,[["render",Ge]]);export{Xe as default};
